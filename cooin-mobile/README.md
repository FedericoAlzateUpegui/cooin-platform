# Cooin Mobile App

A React Native mobile application for the Cooin lending/borrowing platform. This app connects lenders and borrowers through an intelligent matching system.

## 🏗️ Architecture Overview

### Project Structure
```
cooin-mobile/
├── src/
│   ├── components/           # Reusable UI components
│   │   ├── common/          # Generic components
│   │   └── uizard/          # Uizard-generated UI components
│   ├── screens/             # Screen containers with business logic
│   │   ├── auth/           # Authentication screens
│   │   ├── profile/        # Profile management
│   │   ├── connections/    # Connection management
│   │   ├── matching/       # Discovery and matching
│   │   ├── messages/       # Chat and messaging
│   │   └── settings/       # App settings
│   ├── navigation/         # Navigation configuration
│   │   └── stacks/         # Stack navigators
│   ├── services/           # API services
│   ├── store/              # Redux store and slices
│   ├── utils/              # Utility functions
│   ├── constants/          # App constants (colors, themes, API)
│   └── hooks/              # Custom React hooks
├── package.json
└── README.md
```

## 🎨 UI Design Integration with Uizard

This project is designed to seamlessly integrate with **Uizard-generated UI components**. The architecture separates business logic from UI components for maximum flexibility.

### How It Works

1. **Screen Containers**: Handle all business logic, state management, and navigation
2. **Uizard Components**: Pure UI components generated by Uizard
3. **Props Interface**: Clean props interface between containers and UI components

### Screen Types and Required Components

#### 1. Authentication Screens
- `WelcomeScreen` → `UizardWelcomeComponent`
- `LoginScreen` → `UizardLoginComponent`
- `RegisterScreen` → `UizardRegisterComponent`
- `ForgotPasswordScreen` → `UizardForgotPasswordComponent`

#### 2. Profile Screens
- `ProfileSetupScreen` → `UizardProfileSetupComponent`
- `ProfileEditScreen` → `UizardProfileEditComponent`
- `ProfileViewScreen` → `UizardProfileViewComponent`
- `FinancialInfoScreen` → `UizardFinancialInfoComponent`

#### 3. Matching/Discovery Screens
- `DiscoveryScreen` → `UizardDiscoveryComponent`
- `MatchDetailsScreen` → `UizardMatchDetailsComponent`
- `SearchFiltersScreen` → `UizardSearchFiltersComponent`

#### 4. Connection Screens
- `ConnectionsListScreen` → `UizardConnectionsListComponent`
- `ConnectionDetailsScreen` → `UizardConnectionDetailsComponent`
- `PendingRequestsScreen` → `UizardPendingRequestsComponent`

#### 5. Messaging Screens
- `ConversationsListScreen` → `UizardConversationsListComponent`
- `ChatScreen` → `UizardChatComponent`

## 🔧 Technical Stack

### Core Technologies
- **React Native 0.72.4**
- **React Navigation 6** (Stack, Tab, Drawer navigators)
- **Redux Toolkit** (State management)
- **Redux Persist** (State persistence)
- **React Hook Form** (Form handling)

### UI Libraries
- **React Native Paper** (Material Design components)
- **React Native Vector Icons** (Icons)
- **React Native Linear Gradient** (Gradients)
- **React Native Modal** (Modals)

### Networking & Storage
- **Axios** (HTTP client)
- **React Native Keychain** (Secure token storage)
- **AsyncStorage** (Local storage)

### Media & Permissions
- **React Native Image Picker** (Image selection)
- **React Native Permissions** (Permission handling)
- **React Native Maps** (Location features)

## 🚀 Getting Started

### Prerequisites
- Node.js 16+
- React Native CLI
- Android Studio / Xcode
- Android SDK / iOS SDK

### Installation

1. **Clone the repository**
   ```bash
   cd cooin-mobile
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Install iOS dependencies** (iOS only)
   ```bash
   cd ios && pod install && cd ..
   ```

4. **Start Metro bundler**
   ```bash
   npm start
   ```

5. **Run the app**
   ```bash
   # Android
   npm run android

   # iOS
   npm run ios
   ```

## 🎨 Uizard Integration Guide

### Step 1: Create Components in Uizard

For each screen listed above, create a corresponding component in Uizard with the following specifications:

#### Example: LoginComponent
Create a component with these elements:
- Email input field
- Password input field
- "Remember me" checkbox
- "Sign In" button (call `onLogin` prop)
- "Forgot Password?" link (call `onForgotPassword` prop)
- "Don't have an account? Sign Up" link (call `onSignUp` prop)
- Loading spinner (show when `loading` prop is true)
- Error message display (show `error` prop)

### Step 2: Export from Uizard

Export your components as React Native components and place them in:
```
src/components/uizard/
├── WelcomeComponent.js
├── LoginComponent.js
├── RegisterComponent.js
├── ProfileSetupComponent.js
├── DiscoveryComponent.js
├── ConnectionsListComponent.js
├── ChatComponent.js
└── ... (other components)
```

### Step 3: Props Interface

Each Uizard component should accept these props:

```javascript
// Example: UizardLoginComponent props
const UizardLoginComponent = ({
  formData,        // Form values
  onInputChange,   // Function to handle input changes
  onLogin,         // Function to handle login
  onForgotPassword, // Function to navigate to forgot password
  onSignUp,        // Function to navigate to sign up
  onGoBack,        // Function to go back
  loading,         // Boolean for loading state
  error,           // Error message string
  isFormValid,     // Boolean for form validation
}) => {
  // Your Uizard-generated UI code here
};
```

## 📱 App Features

### 🔐 Authentication
- User registration with role selection (Lender/Borrower/Both)
- Secure login with JWT tokens
- Biometric authentication support
- Password reset functionality

### 👤 Profile Management
- Complete user profiles with financial information
- Profile completion tracking
- Privacy settings
- Photo upload
- Verification status

### 🔍 Matching System
- Intelligent compatibility scoring
- Advanced search filters
- Location-based matching
- Financial compatibility analysis

### 🤝 Connections
- Send/receive connection requests
- Accept/reject requests
- Block/report users
- Connection statistics

### 💬 Messaging
- Real-time chat between connected users
- Message read receipts
- Photo/document sharing (future)
- Conversation history

### ⚙️ Settings
- Notification preferences
- Privacy controls
- Account management
- App preferences

## 🔗 API Integration

The app connects to the Cooin backend API with the following endpoints:

### Authentication Endpoints
- `POST /auth/register` - User registration
- `POST /auth/login` - User login
- `POST /auth/refresh` - Token refresh
- `GET /auth/me` - Get current user

### Profile Endpoints
- `GET /profiles/me` - Get user profile
- `POST /profiles/me` - Create profile
- `PUT /profiles/me` - Update profile
- `GET /profiles/me/completion` - Profile completion

### Connection Endpoints
- `GET /connections` - Get connections
- `POST /connections` - Create connection
- `PUT /connections/{id}` - Update connection
- `POST /connections/matching/search` - Find matches

### Message Endpoints
- `GET /connections/{id}/messages` - Get messages
- `POST /connections/{id}/messages` - Send message
- `PUT /connections/{id}/messages/{id}/read` - Mark as read

## 🎯 Development Workflow

### 1. Business Logic First
Each screen container is already implemented with:
- State management
- API integration
- Navigation handling
- Form validation
- Error handling

### 2. UI Integration
Replace placeholder Uizard components with your actual designs:
1. Create the UI in Uizard
2. Export as React Native component
3. Implement the props interface
4. Test integration

### 3. Testing
- Manual testing on iOS/Android
- API integration testing
- Navigation flow testing
- State management testing

## 📊 State Management

### Redux Slices
- `authSlice` - Authentication state
- `profileSlice` - User profile state
- `connectionsSlice` - Connections management
- `matchingSlice` - Discovery and matching
- `messagesSlice` - Chat and messaging
- `appSlice` - Global app state

### State Persistence
Critical data is persisted:
- Authentication tokens (secure storage)
- User profile data
- App preferences

## 🔒 Security Features

- JWT token authentication
- Secure token storage with Keychain
- API request/response interceptors
- Input validation and sanitization
- Secure image handling

## 🚀 Deployment

### Android
```bash
# Generate release APK
cd android && ./gradlew assembleRelease

# Generate AAB for Play Store
cd android && ./gradlew bundleRelease
```

### iOS
```bash
# Archive for App Store
# Use Xcode to archive and upload
```

## 🤝 Contributing

1. Business logic is in screen containers
2. UI components go in `src/components/uizard/`
3. Follow the props interface pattern
4. Test on both iOS and Android
5. Update documentation for new features

## 📞 Support

For questions about:
- **Business Logic**: Check screen containers and Redux slices
- **API Integration**: Check services directory
- **Navigation**: Check navigation directory
- **UI Components**: Refer to Uizard integration guide

---

**Ready for Uizard Integration!** 🎨

The foundation is complete. Now we need Uizard to create the beautiful UI components that will bring this app to life!